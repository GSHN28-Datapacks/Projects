execute unless block ~ ~-2 ~ minecraft:dispenser{CustomName:'{"text":"ctg_turn"}'} run setblock ~0 ~-3 ~0 minecraft:structure_block{name:"ctg115_gshn28:ctg_turn",author:"gshn28",mode:"LOAD"} replace
execute unless block ~ ~-2 ~ minecraft:dispenser{CustomName:'{"text":"ctg_turn"}'} run setblock ~0 ~-2 ~0 minecraft:redstone_block
setblock ~ ~ ~ minecraft:oak_sign[rotation=0]{Text1:'{"text":"===============","bold":true}',Text2:'{"text":"Remove","color":"black","bold":true,"clickEvent":{"action":"run_command","value":"/fill ~0 ~-3 ~0 ~0 ~-2 ~0 air"}}',Text3:'{"text":"Structure","color":"black","bold":true,"clickEvent":{"action":"run_command","value":"/tellraw @p [\\"\\",{\\"text\\":\\"-- Structure Removed! --\\"}]"}}',Text4:'{"text":"===============","bold":true}'} replace
execute if entity @p[y_rotation=-23..22] run item replace block ~ ~-2 ~ container.0 with minecraft:rabbit_spawn_egg{display:{Name:'{"text":"ctg_aiturn_south"}'},EntityTag:{NoGravity:1b,Silent:1b,Invulnerable:1b,NoAI:1b,Tags:["ctg_aiturn"],CustomName:'{"text":"ctg_aiturn1"}',ActiveEffects:[{Id:14b,Amplifier:1b,Duration:9999}]}}
execute if entity @p[y_rotation=23..67] run item replace block ~ ~-2 ~ container.1 with minecraft:rabbit_spawn_egg{display:{Name:'{"text":"ctg_aiturn_southwest"}'},EntityTag:{NoGravity:1b,Silent:1b,Invulnerable:1b,NoAI:1b,Tags:["ctg_aiturn"],CustomName:'{"text":"ctg_aiturn2"}',ActiveEffects:[{Id:14b,Amplifier:1b,Duration:9999}]}}
execute if entity @p[y_rotation=68..112] run item replace block ~ ~-2 ~ container.2 with minecraft:rabbit_spawn_egg{display:{Name:'{"text":"ctg_aiturn_west"}'},EntityTag:{NoGravity:1b,Silent:1b,Invulnerable:1b,NoAI:1b,Tags:["ctg_aiturn"],CustomName:'{"text":"ctg_aiturn3"}',ActiveEffects:[{Id:14b,Amplifier:1b,Duration:9999}]}}
execute if entity @p[y_rotation=113..157] run item replace block ~ ~-2 ~ container.3 with minecraft:rabbit_spawn_egg{display:{Name:'{"text":"ctg_aiturn_northwest"}'},EntityTag:{NoGravity:1b,Silent:1b,Invulnerable:1b,NoAI:1b,Tags:["ctg_aiturn"],CustomName:'{"text":"ctg_aiturn4"}',ActiveEffects:[{Id:14b,Amplifier:1b,Duration:9999}]}}
execute if entity @p[y_rotation=158..202] run item replace block ~ ~-2 ~ container.4 with minecraft:rabbit_spawn_egg{display:{Name:'{"text":"ctg_aiturn_north"}'},EntityTag:{NoGravity:1b,Silent:1b,Invulnerable:1b,NoAI:1b,Tags:["ctg_aiturn"],CustomName:'{"text":"ctg_aiturn5"}',ActiveEffects:[{Id:14b,Amplifier:1b,Duration:9999}]}}
execute if entity @p[y_rotation=203..247] run item replace block ~ ~-2 ~ container.5 with minecraft:rabbit_spawn_egg{display:{Name:'{"text":"ctg_aiturn_northeast"}'},EntityTag:{NoGravity:1b,Silent:1b,Invulnerable:1b,NoAI:1b,Tags:["ctg_aiturn"],CustomName:'{"text":"ctg_aiturn6"}',ActiveEffects:[{Id:14b,Amplifier:1b,Duration:9999}]}}
execute if entity @p[y_rotation=248..292] run item replace block ~ ~-2 ~ container.6 with minecraft:rabbit_spawn_egg{display:{Name:'{"text":"ctg_aiturn_east"}'},EntityTag:{NoGravity:1b,Silent:1b,Invulnerable:1b,NoAI:1b,Tags:["ctg_aiturn"],CustomName:'{"text":"ctg_aiturn7"}',ActiveEffects:[{Id:14b,Amplifier:1b,Duration:9999}]}}
execute if entity @p[y_rotation=293..337] run item replace block ~ ~-2 ~ container.7 with minecraft:rabbit_spawn_egg{display:{Name:'{"text":"ctg_aiturn_southeast"}'},EntityTag:{NoGravity:1b,Silent:1b,Invulnerable:1b,NoAI:1b,Tags:["ctg_aiturn"],CustomName:'{"text":"ctg_aiturn8"}',ActiveEffects:[{Id:14b,Amplifier:1b,Duration:9999}]}}
tellraw @p {"text":"-- Turn directions --"}
execute if block ~ ~-2 ~ minecraft:dispenser{Items:[{Slot:0b,id:"minecraft:rabbit_spawn_egg",tag:{EntityTag:{CustomName:'{"text":"ctg_aiturn1"}'}}}]} run tellraw @p {"text":"South"}
execute if block ~ ~-2 ~ minecraft:dispenser{Items:[{Slot:1b,id:"minecraft:rabbit_spawn_egg",tag:{EntityTag:{CustomName:'{"text":"ctg_aiturn2"}'}}}]} run tellraw @p {"text":"Southwest"}
execute if block ~ ~-2 ~ minecraft:dispenser{Items:[{Slot:2b,id:"minecraft:rabbit_spawn_egg",tag:{EntityTag:{CustomName:'{"text":"ctg_aiturn3"}'}}}]} run tellraw @p {"text":"West"}
execute if block ~ ~-2 ~ minecraft:dispenser{Items:[{Slot:3b,id:"minecraft:rabbit_spawn_egg",tag:{EntityTag:{CustomName:'{"text":"ctg_aiturn4"}'}}}]} run tellraw @p {"text":"Northwest"}
execute if block ~ ~-2 ~ minecraft:dispenser{Items:[{Slot:4b,id:"minecraft:rabbit_spawn_egg",tag:{EntityTag:{CustomName:'{"text":"ctg_aiturn5"}'}}}]} run tellraw @p {"text":"North"}
execute if block ~ ~-2 ~ minecraft:dispenser{Items:[{Slot:5b,id:"minecraft:rabbit_spawn_egg",tag:{EntityTag:{CustomName:'{"text":"ctg_aiturn6"}'}}}]} run tellraw @p {"text":"Northeast"}
execute if block ~ ~-2 ~ minecraft:dispenser{Items:[{Slot:6b,id:"minecraft:rabbit_spawn_egg",tag:{EntityTag:{CustomName:'{"text":"ctg_aiturn7"}'}}}]} run tellraw @p {"text":"East"}
execute if block ~ ~-2 ~ minecraft:dispenser{Items:[{Slot:7b,id:"minecraft:rabbit_spawn_egg",tag:{EntityTag:{CustomName:'{"text":"ctg_aiturn8"}'}}}]} run tellraw @p {"text":"Southeast"}
tellraw @p {"text":"------------------"}
