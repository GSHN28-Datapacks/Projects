fill ~ ~-3 ~ ~ ~-5 ~ minecraft:air
summon minecraft:armor_stand ~ ~ ~ {NoGravity:1b,Invulnerable:1b,Marker:1b,Invisible:1b,PersistenceRequired:1b,CustomName:'{"text":"rptrain_colorpicker"}'}
execute as @e[type=minecraft:armor_stand,name=rptrain_colorpicker] at @s run tellraw @a[distance=..5,limit=1,sort=nearest] ["",{"text":"-- Detector Color --","bold":true,"color":"gold"},{"text":"\n","bold":true},{"text":" \u2588","bold":true,"color":"black","clickEvent":{"action":"run_command","value":"/scoreboard players set @e[type=armor_stand,name=rptrain_colorpicker,distance=..5,limit=1] rptrain_color 3158064"}},{"text":" \u2588","bold":true,"color":"dark_blue","clickEvent":{"action":"run_command","value":"/scoreboard players set @e[type=armor_stand,name=rptrain_colorpicker,distance=..5,limit=1] rptrain_color 133"}},{"text":" \u2588","bold":true,"color":"dark_green","clickEvent":{"action":"run_command","value":"/scoreboard players set @e[type=armor_stand,name=rptrain_colorpicker,distance=..5,limit=1] rptrain_color 16395"}},{"text":" \u2588","bold":true,"color":"dark_aqua","clickEvent":{"action":"run_command","value":"/scoreboard players set @e[type=armor_stand,name=rptrain_colorpicker,distance=..5,limit=1] rptrain_color 21094"}},{"text":" \u2588","bold":true,"color":"dark_red","clickEvent":{"action":"run_command","value":"/scoreboard players set @e[type=armor_stand,name=rptrain_colorpicker,distance=..5,limit=1] rptrain_color 8193542"}},{"text":" \u2588","bold":true,"color":"dark_purple","clickEvent":{"action":"run_command","value":"/scoreboard players set @e[type=armor_stand,name=rptrain_colorpicker,distance=..5,limit=1] rptrain_color 5898339"}},{"text":" \u2588","bold":true,"color":"gold","clickEvent":{"action":"run_command","value":"/scoreboard players set @e[type=armor_stand,name=rptrain_colorpicker,distance=..5,limit=1] rptrain_color 13395726"}},{"text":" \u2588","bold":true,"color":"gray","clickEvent":{"action":"run_command","value":"/scoreboard players set @e[type=armor_stand,name=rptrain_colorpicker,distance=..5,limit=1] rptrain_color 11184810"}},{"text":"\n","bold":true},{"text":" \u2588","bold":true,"color":"dark_gray","clickEvent":{"action":"run_command","value":"/scoreboard players set @e[type=armor_stand,name=rptrain_colorpicker,distance=..5,limit=1] rptrain_color 6052956"}},{"text":" \u2588","bold":true,"color":"blue","clickEvent":{"action":"run_command","value":"/scoreboard players set @e[type=armor_stand,name=rptrain_colorpicker,distance=..5,limit=1] rptrain_color 2053119"}},{"text":" \u2588","bold":true,"color":"green","clickEvent":{"action":"run_command","value":"/scoreboard players set @e[type=armor_stand,name=rptrain_colorpicker,distance=..5,limit=1] rptrain_color 6529357"}},{"text":" \u2588","bold":true,"color":"aqua","clickEvent":{"action":"run_command","value":"/scoreboard players set @e[type=armor_stand,name=rptrain_colorpicker,distance=..5,limit=1] rptrain_color 315857"}},{"text":" \u2588","bold":true,"color":"red","clickEvent":{"action":"run_command","value":"/scoreboard players set @e[type=armor_stand,name=rptrain_colorpicker,distance=..5,limit=1] rptrain_color 12721983"}},{"text":" \u2588","bold":true,"color":"light_purple","clickEvent":{"action":"run_command","value":"/scoreboard players set @e[type=armor_stand,name=rptrain_colorpicker,distance=..5,limit=1] rptrain_color 11753391"}},{"text":" \u2588","bold":true,"color":"yellow","clickEvent":{"action":"run_command","value":"/scoreboard players set @e[type=armor_stand,name=rptrain_colorpicker,distance=..5,limit=1] rptrain_color 14726144"}},{"text":" \u2588","bold":true,"color":"white","clickEvent":{"action":"run_command","value":"/scoreboard players set @e[type=armor_stand,name=rptrain_colorpicker,distance=..5,limit=1] rptrain_color 14737632"}},{"text":"\n------------------","bold":true,"color":"gold"},{"text":"\nFor custom colors, manually change the value\nof the color code in the lowest command block.","bold":false,"color":"yellow"}]
setblock ~ ~-3 ~ minecraft:command_block[facing=down]{TrackOutput:0b,CustomName:'{"text":"rptrain_colordetector_trigger"}'} replace
setblock ~ ~-4 ~ minecraft:repeating_command_block[facing=down]{TrackOutput:0b,Command:"setblock ~ ~1 ~ minecraft:command_block[facing=down]{TrackOutput:0b,CustomName:'{\"text\":\"rptrain_colordetector_trigger\"}'} replace",CustomName:'{"text":"rptrain_colordetector_trigger"}'} replace
setblock ~ ~-5 ~ minecraft:command_block[facing=down]{TrackOutput:0b,Command:"execute positioned ~ ~5 ~ run scoreboard players set @e[type=minecraft:armor_stand,tag=rptrain_bogie,distance=..2,limit=1] rptrain_color COLOR_CODE_HERE",CustomName:'{"text":"rptrain_colordetector_code"}'} replace
setblock ~ ~ ~ oak_sign[rotation=0]{front_text:{messages:['["",{"text":"Colour detector","italic":true,"underlined":true}]','[{"text":"Misplaced?","clickEvent":{"action":"run_command","value":"fill ~0 ~-3 ~0 ~0 ~-6 ~0 air"}}]','[{"text":"Click to remove","clickEvent":{"action":"run_command","value":"say @a Structure Removed!"},"italic":true,"color":"red"}]','["==============="]'],has_glowing_text:1},is_waxed:1} replace
