execute if entity @a[y_rotation=-23..22,distance=..5,limit=1,sort=nearest] run summon minecraft:armor_stand ~ ~ ~ {CustomNameVisible:1b,NoGravity:1b,Invulnerable:0b,ShowArms:1b,NoBasePlate:1b,PersistenceRequired:1b,Tags:["rptrain_railtool","rptrain_spawn"],Pose:{RightArm:[-90f,0f,0f]},DisabledSlots:4144959,Rotation:[0F,0F],ArmorItems:[{id:"minecraft:leather_boots",Count:1b,tag:{display:{color:0}}},{id:"minecraft:leather_leggings",Count:1b,tag:{display:{color:1114367}}},{id:"minecraft:leather_chestplate",Count:1b,tag:{display:{color:16745997}}},{id:"minecraft:leather_helmet",Count:1b,tag:{display:{color:16252687}}}],CustomName:'{"text":"[Rail Builder]"}'}
execute if entity @a[y_rotation=23..67,distance=..5,limit=1,sort=nearest] run summon minecraft:armor_stand ~ ~ ~ {CustomNameVisible:1b,NoGravity:1b,Invulnerable:0b,ShowArms:1b,NoBasePlate:1b,PersistenceRequired:1b,Tags:["rptrain_railtool","rptrain_spawn"],Pose:{RightArm:[-90f,0f,0f]},DisabledSlots:4144959,Rotation:[45F,0F],ArmorItems:[{id:"minecraft:leather_boots",Count:1b,tag:{display:{color:0}}},{id:"minecraft:leather_leggings",Count:1b,tag:{display:{color:1114367}}},{id:"minecraft:leather_chestplate",Count:1b,tag:{display:{color:16745997}}},{id:"minecraft:leather_helmet",Count:1b,tag:{display:{color:16252687}}}],CustomName:'{"text":"[Rail Builder]"}'}
execute if entity @a[y_rotation=68..112,distance=..5,limit=1,sort=nearest] run summon minecraft:armor_stand ~ ~ ~ {CustomNameVisible:1b,NoGravity:1b,Invulnerable:0b,ShowArms:1b,NoBasePlate:1b,PersistenceRequired:1b,Tags:["rptrain_railtool","rptrain_spawn"],Pose:{RightArm:[-90f,0f,0f]},DisabledSlots:4144959,Rotation:[90F,0F],ArmorItems:[{id:"minecraft:leather_boots",Count:1b,tag:{display:{color:0}}},{id:"minecraft:leather_leggings",Count:1b,tag:{display:{color:1114367}}},{id:"minecraft:leather_chestplate",Count:1b,tag:{display:{color:16745997}}},{id:"minecraft:leather_helmet",Count:1b,tag:{display:{color:16252687}}}],CustomName:'{"text":"[Rail Builder]"}'}
execute if entity @a[y_rotation=113..157,distance=..5,limit=1,sort=nearest] run summon minecraft:armor_stand ~ ~ ~ {CustomNameVisible:1b,NoGravity:1b,Invulnerable:0b,ShowArms:1b,NoBasePlate:1b,PersistenceRequired:1b,Tags:["rptrain_railtool","rptrain_spawn"],Pose:{RightArm:[-90f,0f,0f]},DisabledSlots:4144959,Rotation:[135F,0F],ArmorItems:[{id:"minecraft:leather_boots",Count:1b,tag:{display:{color:0}}},{id:"minecraft:leather_leggings",Count:1b,tag:{display:{color:1114367}}},{id:"minecraft:leather_chestplate",Count:1b,tag:{display:{color:16745997}}},{id:"minecraft:leather_helmet",Count:1b,tag:{display:{color:16252687}}}],CustomName:'{"text":"[Rail Builder]"}'}
execute if entity @a[y_rotation=158..202,distance=..5,limit=1,sort=nearest] run summon minecraft:armor_stand ~ ~ ~ {CustomNameVisible:1b,NoGravity:1b,Invulnerable:0b,ShowArms:1b,NoBasePlate:1b,PersistenceRequired:1b,Tags:["rptrain_railtool","rptrain_spawn"],Pose:{RightArm:[-90f,0f,0f]},DisabledSlots:4144959,Rotation:[180F,0F],ArmorItems:[{id:"minecraft:leather_boots",Count:1b,tag:{display:{color:0}}},{id:"minecraft:leather_leggings",Count:1b,tag:{display:{color:1114367}}},{id:"minecraft:leather_chestplate",Count:1b,tag:{display:{color:16745997}}},{id:"minecraft:leather_helmet",Count:1b,tag:{display:{color:16252687}}}],CustomName:'{"text":"[Rail Builder]"}'}
execute if entity @a[y_rotation=203..247,distance=..5,limit=1,sort=nearest] run summon minecraft:armor_stand ~ ~ ~ {CustomNameVisible:1b,NoGravity:1b,Invulnerable:0b,ShowArms:1b,NoBasePlate:1b,PersistenceRequired:1b,Tags:["rptrain_railtool","rptrain_spawn"],Pose:{RightArm:[-90f,0f,0f]},DisabledSlots:4144959,Rotation:[225F,0F],ArmorItems:[{id:"minecraft:leather_boots",Count:1b,tag:{display:{color:0}}},{id:"minecraft:leather_leggings",Count:1b,tag:{display:{color:1114367}}},{id:"minecraft:leather_chestplate",Count:1b,tag:{display:{color:16745997}}},{id:"minecraft:leather_helmet",Count:1b,tag:{display:{color:16252687}}}],CustomName:'{"text":"[Rail Builder]"}'}
execute if entity @a[y_rotation=248..292,distance=..5,limit=1,sort=nearest] run summon minecraft:armor_stand ~ ~ ~ {CustomNameVisible:1b,NoGravity:1b,Invulnerable:0b,ShowArms:1b,NoBasePlate:1b,PersistenceRequired:1b,Tags:["rptrain_railtool","rptrain_spawn"],Pose:{RightArm:[-90f,0f,0f]},DisabledSlots:4144959,Rotation:[270F,0F],ArmorItems:[{id:"minecraft:leather_boots",Count:1b,tag:{display:{color:0}}},{id:"minecraft:leather_leggings",Count:1b,tag:{display:{color:1114367}}},{id:"minecraft:leather_chestplate",Count:1b,tag:{display:{color:16745997}}},{id:"minecraft:leather_helmet",Count:1b,tag:{display:{color:16252687}}}],CustomName:'{"text":"[Rail Builder]"}'}
execute if entity @a[y_rotation=293..337,distance=..5,limit=1,sort=nearest] run summon minecraft:armor_stand ~ ~ ~ {CustomNameVisible:1b,NoGravity:1b,Invulnerable:0b,ShowArms:1b,NoBasePlate:1b,PersistenceRequired:1b,Tags:["rptrain_railtool","rptrain_spawn"],Pose:{RightArm:[-90f,0f,0f]},DisabledSlots:4144959,Rotation:[315F,0F],ArmorItems:[{id:"minecraft:leather_boots",Count:1b,tag:{display:{color:0}}},{id:"minecraft:leather_leggings",Count:1b,tag:{display:{color:1114367}}},{id:"minecraft:leather_chestplate",Count:1b,tag:{display:{color:16745997}}},{id:"minecraft:leather_helmet",Count:1b,tag:{display:{color:16252687}}}],CustomName:'{"text":"[Rail Builder]"}'}
execute if entity @a[y_rotation=-23..22,distance=..5,limit=1,sort=nearest] run scoreboard players set @e[type=minecraft:armor_stand,tag=rptrain_railtool,tag=rptrain_spawn] rptrain_rotation 0
execute if entity @a[y_rotation=23..67,distance=..5,limit=1,sort=nearest] run scoreboard players set @e[type=minecraft:armor_stand,tag=rptrain_railtool,tag=rptrain_spawn] rptrain_rotation 45
execute if entity @a[y_rotation=68..112,distance=..5,limit=1,sort=nearest] run scoreboard players set @e[type=minecraft:armor_stand,tag=rptrain_railtool,tag=rptrain_spawn] rptrain_rotation 90
execute if entity @a[y_rotation=113..157,distance=..5,limit=1,sort=nearest] run scoreboard players set @e[type=minecraft:armor_stand,tag=rptrain_railtool,tag=rptrain_spawn] rptrain_rotation 135
execute if entity @a[y_rotation=158..202,distance=..5,limit=1,sort=nearest] run scoreboard players set @e[type=minecraft:armor_stand,tag=rptrain_railtool,tag=rptrain_spawn] rptrain_rotation 180
execute if entity @a[y_rotation=203..247,distance=..5,limit=1,sort=nearest] run scoreboard players set @e[type=minecraft:armor_stand,tag=rptrain_railtool,tag=rptrain_spawn] rptrain_rotation 225
execute if entity @a[y_rotation=248..292,distance=..5,limit=1,sort=nearest] run scoreboard players set @e[type=minecraft:armor_stand,tag=rptrain_railtool,tag=rptrain_spawn] rptrain_rotation 270
execute if entity @a[y_rotation=293..337,distance=..5,limit=1,sort=nearest] run scoreboard players set @e[type=minecraft:armor_stand,tag=rptrain_railtool,tag=rptrain_spawn] rptrain_rotation 315
execute as @e[type=minecraft:armor_stand,tag=rptrain_railtool,tag=rptrain_spawn] at @s run function trains115_gshn28:railtool_menu
tag @e[type=minecraft:armor_stand,tag=rptrain_railtool,tag=rptrain_spawn] remove rptrain_spawn
kill @s
